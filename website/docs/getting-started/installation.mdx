---
id: installation
title: Installation
sidebar_label: Installation
---

<!-- Complet for v1.0.0 release -->

import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'
import { faTools, faCloud, faDesktop, faRocket, faKey, faCircleCheck, faStopCircle } from '@fortawesome/free-solid-svg-icons'
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import useBaseUrl from '@docusaurus/useBaseUrl';

# <FontAwesomeIcon icon={faTools} /> Installation

Bienvenue sur la page d'installation du pipeline **AstroSpectro** !  
Vous avez deux options pour d√©marrer : via le cloud avec GitHub Codespaces (simple et rapide) ou manuellement sur votre machine locale.

> Pour toute explication d√©taill√©e, consultez le [Guide utilisateur](https://phd-brown.github.io/AstroSpectro/docs/user-guides).

## <FontAwesomeIcon icon={faCloud} /> Option 1 : GitHub Codespaces (Recommand√©)

C'est la m√©thode la plus simple. Elle ne requiert **aucune installation** sur votre ordinateur.

### √âtape 1 : Cr√©er le Codespace

1. Rendez-vous sur le **[d√©p√¥t GitHub du projet](https://github.com/PhD-Brown/AstroSpectro)**.
2. Cliquez sur **`< > Code`** ‚Üí onglet **Codespaces**.
3. Cliquez sur **`Create codespace on main`**.

<div style={{textAlign: 'center', margin: '2rem 0'}}>
  <a href="https://github.com/codespaces/new?hide_repo_select=true&ref=main&repo=588658495" className="button button--success button--lg cta-button">
    Lancer un Codespace Maintenant ‚Üí
  </a>
</div>

<div style={{textAlign: 'center', margin: '2rem 0'}}>
  <img
    src={useBaseUrl('/img/getting-started/create-codespace.png')}
    alt="GitHub ‚Üí Code ‚Üí Codespaces ‚Üí Create codespace on main"
    style={{maxWidth: '900px', borderRadius: '12px'}}
  />
  <p style={{opacity: 0.8, marginTop: '0.5rem'}}>
    <small>GitHub ‚Üí Code ‚Üí Codespaces ‚Üí Create codespace on main</small>
  </p>
</div>

<br />

:::tip Note sur la bande passante
L'environnement Codespaces est une machine virtuelle compl√®te. Bien que l'ex√©cution du code soit rapide, les op√©rations d'entr√©e/sortie (comme le t√©l√©chargement de donn√©es massives) d√©pendent de la bande passante du cloud, ce qui peut occasionner un l√©ger d√©lai par rapport √† un stockage local SSD. 
:::

<br />

:::info Interface famili√®re
Par d√©faut, Codespaces s'ouvre dans une interface style VS Code. Si vous pr√©f√©rez les notebooks classiques, cliquez sur le menu de votre Codespace et s√©lectionnez **`Open in JupyterLab`**.
<div style={{textAlign: 'center', margin: '2rem 0'}}>
  <img
    src={useBaseUrl('/img/getting-started/jupyter.png')}
    alt=""
    style={{maxWidth: '900px', borderRadius: '12px'}}
  />
  <p style={{opacity: 0.8, marginTop: '0.5rem'}}>
    <small>Open in JupyterLab</small>
  </p>
</div>
:::

<br />

### √âtape 2 : Configurer `.env` (Gaia)

Vous devez renommer le fichier **`.env.example`** au nom de **`.env`** et y mettre vos informations de **[connexion Gaia](/docs/user-guides/connexion-gaia)**.

:::danger  S√©curit√©
Ne committez **jamais** votre `.env` sur GitHub. Il contient vos mots de passe.
:::

<br />

### √âtape 3 : S√©lectionner le bon Kernel (Jupyter / VS Code)

Dans Codespaces, ouvrez un notebook (`.ipynb`) puis :

- Cliquez sur **Select Kernel** (en haut √† droite)
- Choisissez **`venv (Python 3.11.6)`**

<div style={{textAlign: 'center', margin: '2rem 0'}}>
  <img
    src={useBaseUrl('/img/getting-started/codespace.png')}
    alt="ouvrez un notebook ‚Üí Select Kernel ‚Üí venv (Python 3.11.6)"
    style={{maxWidth: '900px', borderRadius: '12px'}}
  />
  <p style={{opacity: 0.8, marginTop: '0.5rem'}}>
    <small>ouvrez un notebook ‚Üí Select Kernel ‚Üí venv (Python 3.11.6)</small>
  </p>
</div>

<br />

:::tip Astuce
Si vous ne voyez pas le kernel `venv`, red√©marrez le notebook (**Restart Kernel**) ou rechargez la page du Codespace.
:::

<br />

### √âtape 4 : Installation termin√©e !

Votre environnement est maintenant enti√®rement configur√© : les d√©pendances sont install√©es et le noyau Python est pr√™t √† l'emploi.

**Et maintenant ?**
Il est temps de passer √† l'action ! Pour apprendre √† t√©l√©charger vos premiers spectres et ex√©cuter votre premi√®re classification scientifique, passez √† la section suivante :

<br />

<div style={{textAlign: 'center', margin: '2rem 0'}}>
  <a
    className="button button--primary button--lg cta-button"
    href="./first-run"
    style={{textDecoration: 'none'}}
  >
    üöÄ Guide de D√©marrage : Lancer le Pipeline
  </a>
</div>

<br />

### √âtape 5 : G√©rer son Codespace (Important)

Si vous utilisez GitHub Codespaces, gardez en t√™te que l'utilisation consomme des minutes de calcul (limit√©es, m√™me pour les √©tudiants).

:::warning Ne confondez pas "Arr√™ter" et "Supprimer"
* **‚è∏Ô∏è Arr√™ter (Stop) :** Met la machine en pause. Vos fichiers, vos donn√©es t√©l√©charg√©es et votre environnement `.env` sont **sauvegard√©s**. C'est l'action recommand√©e quand vous avez fini votre journ√©e.
* **üóëÔ∏è Supprimer (Delete) :** D√©truit compl√®tement l'environnement. Tout travail non sauvegard√© sur GitHub (via `git push`) sera **perdu**. Utilisez ceci uniquement pour faire le m√©nage.
:::

**Comment arr√™ter proprement ?**
1.  Allez sur votre tableau de bord : [github.com/codespaces](https://github.com/codespaces).
2.  Cliquez sur les trois points `...` √† c√¥t√© de votre instance active.
3.  S√©lectionnez **Stop codespace**.

*(Note : Par d√©faut, Codespaces s'arr√™te aussi automatiquement apr√®s 30 minutes d'inactivit√©).*

---

## <FontAwesomeIcon icon={faDesktop} /> Option 2 : Installation Locale Manuelle

Cette m√©thode installe le projet sur votre propre machine. Assurez-vous d'avoir les pr√©requis suivants :

* **Python 3.11** (Version recommand√©e et test√©e).
    * *Note : Python 3.9+ peut fonctionner mais n'est pas garanti.*
* **Git** install√©.
* (Optionnel) **JupyterLab** ou VS Code pour ex√©cuter les notebooks.

<br />

### √âtape 1 : Cloner le d√©p√¥t
Ouvrez votre terminal et lancez :

```bash
git clone https://github.com/PhD-Brown/AstroSpectro.git
cd AstroSpectro
```

<br />

### √âtape 2 : Installation (Deux m√©thodes)

Choisissez la m√©thode qui vous convient le mieux.


#### ‚ö° M√©thode A : Installation Automatique (Recommand√©)

Nous fournissons des scripts qui cr√©ent l'environnement virtuel, installent les d√©pendances et configurent le noyau Jupyter pour vous en une seule commande.

**Sur Windows (PowerShell) :**
```PowerShell
# 1. Autoriser l'ex√©cution de scripts (temporaire pour cette fen√™tre)
Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass

# 2. Lancer le script
.\scripts\setup.ps1
```

**Sur macOS / Linux :**
```bash
# Donnez les permissions d'ex√©cution si n√©cessaire
chmod +x scripts/setup.sh
# Lancez le script
bash scripts/setup.sh
```

<br />

#### üõ†Ô∏è M√©thode B : Installation Manuelle (D√©taill√©e)

Si vous pr√©f√©rez contr√¥ler chaque √©tape ou si les scripts ne fonctionnent pas, suivez cette proc√©dure :

**1. Cr√©er et activer l'environnement virtuel**

```bash
# Cr√©ation
python -m venv venv

# Activation
# Windows (PowerShell) :
.\venv\Scripts\Activate.ps1
# Windows (CMD) :
.\venv\Scripts\activate.bat
# Mac/Linux :
source venv/bin/activate
```

<div style={{textAlign: 'center', margin: '2rem 0'}}>
  <img
    src={useBaseUrl('/img/getting-started/venv.png')}
    alt="Terminal avec venv activ√©"
    style={{maxWidth: '900px', borderRadius: '12px'}}
  />
  <p style={{opacity: 0.8, marginTop: '0.5rem'}}>
    <small>Terminal avec venv activ√©</small>
  </p>
</div>

**2. Installer le projet et ses d√©pendances**  

L'option *`-e .`* est cruciale pour le d√©veloppement. Nous utilisons python -m pip pour garantir l'installation dans le bon environnement.

```bash
python -m pip install --upgrade pip
python -m pip install -e .
python -m pip install -r requirements.txt
```

**3. Enregistrer le noyau (Kernel) pour Jupyter**

Cette √©tape permet √† Jupyter de reconna√Ætre votre environnement virtuel sous le nom "AstroSpectro".

```bash
python -m pip install ipykernel
python -m ipykernel install --user --name astrospectro --display-name "AstroSpectro (Py3.11)"
```

<br />

### √âtape 3 : Configuration (.env)

Comme pour l'option Cloud, vous devez configurer vos acc√®s.

Vous devez renommer le fichier **`.env.example`** au nom de **`.env`** et y mettre vos informations de **[connexion Gaia](/docs/user-guides/connexion-gaia)**.

:::danger  Important
Ne committez **jamais** votre `.env` sur GitHub. Il contient vos mots de passe.
:::

<br />

### √âtape 4 : Installation termin√©e !

Votre environnement local est maintenant pr√™t : votre environnement virtuel est activ√©, le projet est install√© en mode √©ditable et le noyau est enregistr√©.

**Et maintenant ?**
Il est temps de tester votre installation ! Passez √† la section suivante pour apprendre √† utiliser le pipeline sur vos donn√©es.

<div style={{textAlign: 'center', margin: '2rem 0'}}>
  <a
    className="button button--primary button--lg cta-button"
    href="./first-run"
    style={{textDecoration: 'none'}}
  >
    üöÄ Guide de D√©marrage : Lancer le Pipeline
  </a>
</div>

<br />

:::info üí° En cas de probl√®me
- Si vous devez recommencer √† z√©ro (nettoyage complet), vous pouvez utiliser nos scripts de nettoyage :

  - Windows : *`.\scripts\clean.ps1`*
  - Mac/Linux : *`scripts/clean.sh`*
- Consultez la section [FAQ](https://phd-brown.github.io/AstroSpectro/docs/community/faq) dans la documentation.
- Ouvrez une [issue GitHub](https://github.com/PhD-Brown/AstroSpectro/issues) pour obtenir de l‚Äôaide.
:::

<br />

> **F√©licitations, vous √™tes pr√™t √† explorer AstroSpectro‚ÄØ!**